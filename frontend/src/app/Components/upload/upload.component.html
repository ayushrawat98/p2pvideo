@if(loggedIn()){
  
<ng-container [formGroup]="detailsform">
    
    <mat-form-field appearance="outline">
        <mat-label>
            Title
        </mat-label>
        <input matInput type="text" formControlName="title" />
        <mat-error>
            Title is required
        </mat-error>
        <mat-hint>Max 200 characters.</mat-hint>
    </mat-form-field>

    <mat-form-field appearance="outline">
        <mat-label>
            Description
        </mat-label>
        <input matInput type="text" formControlName="description" />
        <mat-hint>Max 200 characters</mat-hint>
    </mat-form-field>

</ng-container>

<br>
<br>

<button mat-flat-button color="accent" (click)="uploadvideoinput.click()" class="mt-auto mb-auto">
    Choose File
</button>
@if (selectedfile) {
{{selectedfile[0].name}}
}
<br />


<button style="margin-top: 8px;" mat-flat-button color="primary" [disabled]="!selectedfile || detailsform.invalid || uploadButtonEnabled"
    (click)="uploadFile()" class="mt-auto mb-auto">
    Upload File
</button>

<br />
<br/>

<input #uploadvideoinput hidden type="file" accept="video/mp4,video/webm" (change)="setFile($event)" />
@if(uploadProgress > 0){
<mat-progress-bar mode="determinate" [value]="uploadProgress"></mat-progress-bar>
}
}
@else{
<p style="text-align: center; padding: 24px;"><a class="link" (click)="close()">Login/Register</a> to upload videos :-)</p>
}